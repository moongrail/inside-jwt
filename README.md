### Spring Boot/Rest/Security/JWT микросервис.
#### Описание микросервиса:
Микросервис принимает HTTP POST эндпоинт, который получает данные в json вида:
* { name: "имя отправителя" password: "пароль"} 

Этот эндпоинт проверяет пароль по БД и создает jwt токен (срок действия токена и алгоритм подписи не принципиален, для генерации и работе с токеном можно использовать готовую библиотечку) в токен записывает данные: name: "имя отправителя"
  и отправляет токен в ответ, тоже json вида:

* { token: "тут сгенерированный токен" }

Сервер слушает и отвечает в какой-нибудь эндпоинт, в него на вход поступают данные в формате json:
Сообщения клиента-пользователя:

* { name:"имя отправителя", message:    "текст сообщение"}

В заголовках указан Bearer токен, полученный из эндпоинта выше (между Bearer и полученным токеном должно быть нижнее подчеркивание).
Проверить токен, в случае успешной проверки токена, полученное сообщение сохранить в БД

Если пришло сообщение вида:
* { name:       "имя отправителя", message:    "history 10"}

отправит отправителю 10 последних сообщений из БД.

### Запуск в Docker
Если в докере нет "network" - "cloud"(либо у вас есть своя которой вам удобно пользоваться, то установите её в docker-compose.yml), либо:
- docker network list - проверить сеть в списке.
- docker network create cloud - создать сеть.

### ВАЖНО! Первым приложением должен подниматься postgres(database) в композе настроено.

Поднять  композ(должен быть ещё postgres image)

* 1 cd в папку с файлом docker-compose.yml, прописать в терминал docker compose up.
* 2 или запустить в idea docker-compose.yml (сверить настройки).

* Запасной вариант.

Билд приложения(ВАЖНО! set container name "inside-jwt", tag name "inside-jwt"):

* 1 вариант cd в папку с докерфайлом и прописать "docker build ."
* 2 вариант в idea открыть и запустить докерфайл.
* 3 вариант загрузить с хаба docker pull moongrail/inside:latest**
* Далее поднять композ.
* 
### HTTP Эндпоинты:
* Порт 80.
* POST http://localhost/api/v1/signUp - регистрация аккаунта. 
* POST http://localhost/api/v1/login - получения токена доступа. 
* POST http://localhost/api/v1/messages - Сохранить или получить 10 последних сообщений пользователя.

### Тестовые запросы 

* src/main/resources/http/requests.http - тестовые запросы.

### POM FILE:
- Java 11
- Spring Boot
- Spring Data Jpa
- Spring Security
- JWT
- Spring Test
- Spring Validation
- Postgresql
- Lombok
- Mockito
- Hamcrest